"use strict";(self["webpackChunksocial_vue_3"]=self["webpackChunksocial_vue_3"]||[]).push([[5017],{4754:function(e,t,a){a.d(t,{D_:function(){return d},Hj:function(){return u},Iu:function(){return p},Ry:function(){return l},UY:function(){return r},VQ:function(){return m},VY:function(){return o},ZT:function(){return i},bm:function(){return v},gO:function(){return f},gb:function(){return c},hg:function(){return h},wk:function(){return s}});var n=a(6593);function s(e){return(0,n.E)({url:`article/chainInfo/${e}`,method:"get"})}function o(e){return(0,n.E)({url:`article/${e}`,method:"get"})}function r(e,t){return(0,n.E)({url:`article/commentList/${e}`,method:"get",params:{userId:t}})}function i(e){return(0,n.E)({url:"article/addComment",method:"post",data:e})}function l(e,t){return(0,n.E)({url:`article/likeComment/${e}`,method:"post",params:{userId:t}})}function c(e,t){return(0,n.E)({url:"article/addBookmark",method:"post",params:{userId:e,articleId:t}})}function d(e,t){return(0,n.E)({url:"article/removeBookmark",method:"post",params:{userId:e,articleId:t}})}function u(e,t){return(0,n.E)({url:"article/addLike",method:"post",params:{userId:e,articleId:t}})}function m(e,t){return(0,n.E)({url:"article/addDislike",method:"post",params:{userId:e,articleId:t}})}function v(e,t){return(0,n.E)({url:"article/removeLove",method:"post",params:{userId:e,articleId:t}})}function p(e){return(0,n.E)({url:"article/upload",method:"post",data:e})}function f(e){return(0,n.E)({url:"article/recordBlockchain",method:"post",data:e})}function h(e,t=1){const a=null!==t?t:1;let s=`/article/myList?page=${a}`;return s+=`&userId=${e}`,(0,n.E)({url:s,method:"get"})}},5859:function(e,t,a){a.d(t,{M3:function(){return r},MS:function(){return s},P0:function(){return i},nw:function(){return o}});var n=a(6593);function s(e){return(0,n.E)({url:"/verification/submit",method:"post",data:e})}function o(e){return(0,n.E)({url:"article/getArticleChainId",method:"get",params:{articleId:e}})}function r(e=1){return(0,n.E)({url:`/verification/VerificationList?page=${e}`,method:"get"})}function i(e){return(0,n.E)({url:`/verification/getVerificationChainInfo?id=${e}`,method:"get"})}},4973:function(e,t,a){a.d(t,{A:function(){return f}});var n=a(641),s=a(33),o=a(953);const r={key:0,class:"modal fade show d-block",tabindex:"-1",role:"dialog",style:{background:"rgba(0, 0, 0, 0.5)"}},i={class:"modal-dialog modal-dialog-centered",role:"document"},l={class:"modal-content"},c={class:"modal-header"},d={class:"modal-body"},u={key:0};var m={__name:"ChainInfo",props:{chainInfo:Object,mode:{type:Number,default:1}},setup(e){const t=(0,o.KR)(!0);return(a,o)=>t.value?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",i,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[o[2]||(o[2]=(0,n.Lk)("h5",{class:"modal-title"},"鏈上資訊",-1)),(0,n.Lk)("button",{type:"button",class:"close","aria-label":"Close",onClick:o[0]||(o[0]=e=>a.$emit("close"))},o[1]||(o[1]=[(0,n.Lk)("span",{"aria-hidden":"true"},"×",-1)]))]),(0,n.Lk)("div",d,[(0,n.Lk)("p",null,[o[3]||(o[3]=(0,n.Lk)("strong",null,"交易序號：",-1)),(0,n.eW)(" "+(0,s.v_)(e.chainInfo.transactionHash),1)]),(0,n.Lk)("p",null,[o[4]||(o[4]=(0,n.Lk)("strong",null,"發文者地址：",-1)),(0,n.eW)(" "+(0,s.v_)(e.chainInfo.authorAddress),1)]),(0,n.Lk)("p",null,[o[5]||(o[5]=(0,n.Lk)("strong",null,"智慧合約位址：",-1)),(0,n.eW)(" "+(0,s.v_)(e.chainInfo.smartContractAddress),1)]),2!==e.mode?((0,n.uX)(),(0,n.CE)("p",u,[(0,n.Lk)("strong",null,(0,s.v_)(1===e.mode?"文章標題：":"驗證理由："),1),(0,n.eW)(" "+(0,s.v_)(e.chainInfo.title),1)])):(0,n.Q3)("",!0),(0,n.Lk)("p",null,[o[6]||(o[6]=(0,n.Lk)("strong",null,"交易時間：",-1)),(0,n.eW)(" "+(0,s.v_)(e.chainInfo.timestamp),1)])])])])])):(0,n.Q3)("",!0)}},v=a(6262);const p=(0,v.A)(m,[["__scopeId","data-v-6dced89e"]]);var f=p},3761:function(e,t,a){a.d(t,{A:function(){return l}});var n=a(641),s=a(33),o={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"info"}},emits:["close"],setup(e,{emit:t}){const a=e,o=t,r=(0,n.EW)((()=>{switch(a.type){case"success":return"success";case"warning":return"warning";case"error":return"error";default:return"info"}})),i=()=>{o("close")};return(0,n.sV)((()=>{setTimeout((()=>{i()}),3e3)})),(t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["notification",r.value])},[(0,n.Lk)("span",null,(0,s.v_)(e.message),1)],2))}},r=a(6262);const i=(0,r.A)(o,[["__scopeId","data-v-07b198c4"]]);var l=i},5017:function(e,t,a){a.r(t),a.d(t,{default:function(){return Te}});var n=a(641),s=a(33),o=a(953),r=(a(4114),a(3751)),i=a(6593);function l(e,t){return(0,i.E)({url:"evidence/list",method:"get",params:{id:e,userId:t}})}function c(e){return(0,i.E)({url:"evidence/upload",method:"post",data:e})}function d(e,t){return(0,i.E)({url:"evidence/support",method:"post",params:{userId:e,evidenceId:t}})}function u(e){return(0,i.E)({url:`evidence/getEvidenceChainInfo?id=${e}`,method:"get"})}var m=a(6278),v=a(98),p=a(3761);const f={class:"modal-dialog"},h={class:"modal-content iq-border-radius-40"},g={class:"modal-body"},k={class:"form-group row"},b={class:"col-sm-10"},L={class:"text-primary"},y={class:"form-group row"},w={class:"col-md-12"},I={class:"form-group"},C=["src"],E={class:"form-group row"},_={class:"col-sm-12"},x={class:"form-group d-flex flex-wrap align-items-center justify-content-between mb-0"},A={class:"d-flex align-items-center"};var V={__name:"ProvideEvidence",props:{isVisible:{type:Boolean,required:!0},verifyId:{type:String,required:!0},title:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,m.Pj)(),i=(0,o.Kh)({show:!1,message:"",type:"info"}),l=(e,t="info")=>{i.message=e,i.type=t,i.show=!0},{web3:d,socialContract:u,getAccount:V,contractAddress:R}=(0,v.A)(),K=e,X=t;let j=(0,o.Kh)({content:"",images:[],chained:!1});const F=(0,o.KR)([]),W=e=>{const t=Array.from(e.target.files);F.value=[],t.forEach((e=>{const t=new FileReader;t.onload=e=>{F.value.push(e.target.result)},t.readAsDataURL(e)})),j.images=t};let q;const H=async()=>{j.content.trim()||l("內文不可為空!","warning"),j.content.length>300&&l("字數超過限制!","warning"),q={verificationId:K.verifyId,timestamp:Date.now(),description:j.content,userId:a.state.userInfo?.id,transactionHash:"",images:F.value};let e=!0;if(j.chained&&(e=await $(q)),!e)return;const t=new FormData;t.append("verificationId",q.verificationId),t.append("description",q.description),t.append("timestamp",q.timestamp),t.append("userId",q.userId),t.append("chained",j.chained),t.append("transactionHash",q.transactionHash),j.images.forEach(((e,a)=>{t.append("images",e)})),c(t).then((e=>{console.log("Evidence uploaded successfully",e),1===e.data.code?(P(),l("回答成功!","success")):l("回答失敗!","error")})).catch((e=>{console.error("Evidence upload failed",e)})),j.content="",j.images=[],j.chained=!1},$=async e=>{console.log("uploadEvidenceBlockchain",e);const t=await V(),a={from:t,to:R,value:"0",data:u.methods.provideEvidence(e.verificationId,e.description,e.timestamp).encodeABI()};try{const t=await window.ethereum.request({method:"eth_sendTransaction",params:[a]});return e.transactionHash=t,console.log("交易已提交，交易哈希:",t),!0}catch(n){return console.error("發送交易或監聽事件時出錯:",n),!1}},P=()=>{X("close")};return(t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",{class:(0,s.C4)(["modal fade",{"show d-block":e.isVisible}]),tabindex:"-1"},[(0,n.Lk)("div",f,[(0,n.Lk)("div",h,[a[10]||(a[10]=(0,n.Lk)("div",{class:"modal-header"},[(0,n.Lk)("h5",{class:"text-primary modal-title"},[(0,n.Lk)("span",{class:"material-symbols-outlined"},"drive_file_rename_outline"),(0,n.eW)(" 回答提問 ")])],-1)),(0,n.Lk)("div",g,[(0,n.Lk)("form",{class:"email-form justify-content-center",onSubmit:(0,r.D$)(H,["prevent"])},[(0,n.Lk)("div",k,[a[4]||(a[4]=(0,n.Lk)("label",{for:"title",class:"col-sm-2 col-form-label"},"標題",-1)),(0,n.Lk)("div",b,[(0,n.Lk)("h5",L,(0,s.v_)(e.title),1)])]),(0,n.Lk)("div",y,[(0,n.Lk)("div",w,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.R1)(j).content=e),class:"textarea form-control",rows:"5",placeholder:"輸入內文"},null,512),[[r.Jo,(0,o.R1)(j).content]])])]),(0,n.Lk)("div",I,[a[5]||(a[5]=(0,n.Lk)("label",{for:"cover-photo",class:"form-label"},"Cover Photo",-1)),(0,n.Lk)("input",{type:"file",id:"cover-photo",multiple:"",onChange:W,class:"form-control"},null,32),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(F.value,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"mt-2"},[(0,n.Lk)("img",{src:e,class:"img-thumbnail",width:"200"},null,8,C)])))),128)),a[6]||(a[6]=(0,n.Lk)("small",{class:"form-text text-muted"},"PNG, JPG, GIF up to 10MB",-1))]),(0,n.Lk)("div",E,[(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.R1)(j).chained=e),class:"form-control"},a[7]||(a[7]=[(0,n.Lk)("option",{value:!1},"是否上鏈-否",-1),(0,n.Lk)("option",{value:!0},"是否上鏈-是",-1)]),512),[[r.u1,(0,o.R1)(j).chained]])])]),(0,n.Lk)("div",x,[a[9]||(a[9]=(0,n.Lk)("div",{class:"d-flex align-items-center"},[(0,n.Lk)("div",{class:"send-btn pl-3 mb-2"},[(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"確定")])],-1)),(0,n.Lk)("div",A,[(0,n.Lk)("div",{class:"send-btn pl-3 mb-2",onClick:a[2]||(a[2]=e=>{X("close")})},a[8]||(a[8]=[(0,n.Lk)("button",{type:"button",class:"btn"},"取消",-1)]))])])],32)])])])],2),i.show?((0,n.uX)(),(0,n.Wv)(p.A,{key:0,message:i.message,type:i.type,onClose:a[3]||(a[3]=e=>i.show=!1)},null,8,["message","type"])):(0,n.Q3)("",!0)],64))}};const R=V;var K=R,X=a(5208),j=a(4973);const F={class:"custom-modal-overlay"},W={class:"custom-modal-content"},q={class:"modal-header"},H={class:"modal-body"},$={class:"evidence-area mt-3"},P={class:"post-evidences list-inline p-0 m-0 evidence-list"},Q={class:"d-flex"},T={class:"user-img"},D=["src"],S={class:"evidence-data-block ms-3 w-100"},B={class:"d-flex align-items-center justify-content-between"},N={class:"d-flex align-items-center"},M={class:"mb-0"},O={class:"ms-2 text-muted"},Y={class:"d-flex align-items-center ms-auto"},z=["onClick"],U=["onClick"],G={class:"mb-0"},J={key:0},Z=["src"];var ee={__name:"Evidence",props:{verificationId:{type:Number,required:!0}},setup(e){const{contractAddress:t}=(0,v.A)(),a=(0,m.Pj)(),r=e,i=(0,o.KR)(!1),c=(0,o.Kh)({transactionHash:"...",authorAddress:"...",smartContractAddress:t,timestamp:"..."}),p=async e=>{i.value=!0;const t=await u(e);console.log("response",t),1===t.data.code?(c.transactionHash=t.data.data.transactionHash,c.authorAddress=t.data.data.authorAddress,c.timestamp=t.data.data.timestamp,console.log("chainInfo",c)):console.error("getVerificationChainInfoApi error",t.data.message)},f=e=>{switch(e){case 1:return"col-10";case 2:return"col-6";case 3:return"col-4";case 4:return"col-6 col-md-3";default:return"col-6 col-md-4"}},h=async e=>{try{const t=a.state.userInfo?.id;if(void 0===t)return void alert("請先登入");const n=await d(t,e.id);1===n.data.code?(e.supportCount+=1,e.supported=!0):console.error("按讚失敗:",n.data.message)}catch(t){console.error("按讚時發生錯誤:",t)}},g=(0,o.KR)([]),k=((0,o.KR)(!1),async()=>{try{const e=await l(r.verificationId,a.state.userInfo?.id);1===e.data.code?(g.value=e.data.data,console.log("evidences:",g.value)):console.error("Failed to fetch evidences:",e.data.message)}catch(e){console.error("Failed to fetch evidences:",e)}});return(0,n.sV)(k),(e,t)=>((0,n.uX)(),(0,n.CE)("div",F,[(0,n.Lk)("div",W,[(0,n.Lk)("div",q,[t[2]||(t[2]=(0,n.Lk)("h5",{class:"modal-title"},"證據列表",-1)),(0,n.Lk)("button",{type:"button",class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×")]),(0,n.Lk)("div",H,[(0,n.Lk)("div",$,[t[3]||(t[3]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",P,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id},[(0,n.Lk)("div",Q,[(0,n.Lk)("div",T,[(0,n.Lk)("img",{src:"data:image/png;base64,"+e.avatar,alt:"userimg",class:"avatar-35 rounded-circle img-fluid"},null,8,D)]),(0,n.Lk)("div",S,[(0,n.Lk)("div",B,[(0,n.Lk)("div",N,[(0,n.Lk)("h6",M,(0,s.v_)(e.username),1),(0,n.Lk)("span",O,(0,s.v_)((0,o.R1)(X.Yq)(e.evidenceDate)),1)]),(0,n.Lk)("div",Y,[e.chained?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"material-symbols-outlined me-3 chain-info-highlight",role:"button",title:"鏈上資訊",onClick:t=>p(e.id),style:{"font-size":"32px","line-height":"1.5","vertical-align":"middle"}}," dataset_linked ",8,z)):(0,n.Q3)("",!0),i.value?((0,n.uX)(),(0,n.Wv)(j.A,{key:1,chainInfo:c,mode:2,onClose:t[1]||(t[1]=()=>i.value=!1)},null,8,["chainInfo"])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t=>h(e),class:"btn btn-link pt-0"},[(0,n.Lk)("i",{class:(0,s.C4)(["material-symbols-outlined",{"custom-color":e.supported}])}," thumb_up ",2),(0,n.eW)(" "+(0,s.v_)(e.supportCount),1)],8,U)])]),(0,n.Lk)("p",G,(0,s.v_)(e.description),1),e.images&&e.images.length>0?((0,n.uX)(),(0,n.CE)("div",J,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.images,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:(0,s.C4)([f(e.images.length),"row-span-1 img-container mt-2"])},[(0,n.Lk)("img",{src:"data:image/png;base64,"+t,alt:"post-image",class:"img-fluid rounded w-75"},null,8,Z)],2)))),128))])):(0,n.Q3)("",!0)])])])))),128))])])])])]))}},te=a(6262);const ae=(0,te.A)(ee,[["__scopeId","data-v-5422183c"]]);var ne=ae,se=a(5859),oe=a(4754);const re={class:"card card-block card-stretch shadow-lg rounded-3 overflow-hidden"},ie={class:"card-body p-4"},le={class:"user-post-data text-center"},ce={class:"mb-4 font-weight-bold text-primary"},de={class:"post-content mt-2"},ue={class:"text-muted",style:{"line-height":"1.6","font-size":"1.1rem"}};var me={__name:"Article",props:{id:{type:Number,required:!0}},emits:["close"],setup(e,{emit:t}){const a=t,i=()=>{a("close")},l=e,c=(0,o.KR)({}),d=async()=>{const e=await(0,oe.VY)(l.id);1===e.data.code&&(c.value=e.data.data,console.log(c.value))};return(0,n.sV)((()=>{d()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:i},[(0,n.Lk)("div",{class:"modal-content",onClick:t[0]||(t[0]=(0,r.D$)((()=>{}),["stop"]))},[(0,n.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 m-3",onClick:i,"aria-label":"Close"}),(0,n.Lk)("div",re,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",le,[(0,n.Lk)("h2",ce,(0,s.v_)(c.value.title),1)]),(0,n.Lk)("div",de,[(0,n.Lk)("p",ue,(0,s.v_)(c.value.content),1)])]),(0,n.Lk)("div",{class:"card-footer text-center py-3"},[(0,n.Lk)("button",{class:"btn btn-primary",onClick:i},"關閉")])])])]))}};const ve=(0,te.A)(me,[["__scopeId","data-v-36eb4a3c"]]);var pe=ve;const fe={class:"row justify-content-center"},he={class:"card card-block card-stretch card-height"},ge={class:"card-body"},ke={class:"user-article-data d-flex"},be={class:"vote-buttons d-flex flex-column me-5 align-items-center",style:{width:"100px"}},Le=["onClick"],ye={class:"progress mb-2 w-100",style:{height:"20px"}},we=["onClick"],Ie={class:"w-100"},Ce={class:"d-flex justify-content-between align-items-start"},Ee=["src"],_e={class:"w-100 ms-3"},xe={class:"d-flex justify-content-between"},Ae={class:"d-flex align-items-center"},Ve={class:"mb-0 d-inline-block me-2"},Re={class:"mb-0 text-primary"},Ke={class:"mb-0 text-muted"},Xe=["onClick"],je={class:"mt-4"},Fe=["onClick"],We={class:"d-flex justify-content-between align-items-center"},qe=["onClick"],He=["onClick"],$e={key:0,class:"loading-spinner"};var Pe={__name:"BlogList",setup(e){const t=(0,m.Pj)(),{web3:a,socialContract:r,getAccount:i,contractAddress:l}=(0,v.A)(),c=(0,o.KR)(!1),d=e=>{c.value=!0,L.value=e},u=(0,o.Kh)({show:!1,message:"",type:"info"}),f=(e,t="info")=>{u.message=e,u.type=t,u.show=!0},h=(0,o.KR)(!1),g=(0,o.Kh)({transactionHash:"...",authorAddress:"...",smartContractAddress:l,title:"...",timestamp:"..."}),k=async e=>{h.value=!0;const t=await(0,se.P0)(e);console.log("response",t),1===t.data.code?(g.transactionHash=t.data.data.transactionHash,g.authorAddress=t.data.data.authorAddress,g.title=t.data.data.title,g.timestamp=t.data.data.timestamp):console.error("getVerificationChainInfoApi error",t.data.message)},b=async(e,a)=>{if(null===t.state.userInfo)return void f("請先登入","warning");if(console.log(String(t.state.userInfo.id),String(e.id)),String(t.state.userInfo.id)===String(e.userId))return void f("不能自己投票喔!","warning");const n=await i(),s=await r.methods.getVote(e.id,n).call();if(0!=s)return void f("您以投過票了!","warning");const o=await y(e.id,a);o?a?e.supportVote++:e.againstVote++:f("投票失敗，請稍後再試!","error")},L=(0,o.KR)(null),y=async(e,t)=>{const a=await i(),n={from:a,to:l,value:"0",data:r.methods.voteVerification(e,t).encodeABI()};try{const e=await window.ethereum.request({method:"eth_sendTransaction",params:[n]});return console.log("交易已提交，交易哈希:",e),!0}catch(s){return console.error("發送交易或監聽事件時出錯:",s),!1}},w=(e,t)=>{const a=Number(e)+Number(t);return 0===a?50:Math.round(Number(e)/a*100)},I=(0,o.KR)(!1),C=(0,o.KR)(null),E=e=>{console.log("handleEvidence",e),C.value===e&&!0===I.value?I.value=!1:(I.value=!0,C.value=e)},_=(0,o.KR)([]),x=(0,o.KR)(!1);let A=(0,o.KR)(""),V=(0,o.KR)(0);const R=(e,t)=>{console.log("handleRequest",e),x.value=!0,A.value=t,V.value=e},F=(0,o.KR)(1),W=(0,o.KR)(!1),q=async(e=1)=>{if(!W.value){W.value=!0;try{const a=await(0,se.M3)(e);if(1===a.data.code){const e=a.data.data||[];if(e.length>0){for(let a of e)try{const e=await r.methods.verificationRequests(a.id).call();a.supportVote=e.supportVotes,a.againstVote=e.againstVotes,console.log("aa",e)}catch(t){console.error(`Error fetching verification request for article ${a.id}:`,t)}_.value=[..._.value,...e]}else window.removeEventListener("scroll",H)}else console.error("Failed to fetch articles:",a.data.message)}catch(a){console.error("Error fetching articles:",a)}finally{W.value=!1}}},H=async()=>{const e=document.documentElement.scrollHeight,t=document.documentElement.scrollTop,a=document.documentElement.clientHeight;t+a>=e-3&&(F.value++,console.log("請求下一頁的文章",F.value),await q(F.value))};return(0,n.hi)((()=>{window.removeEventListener("scroll",H)})),(0,n.sV)((()=>{window.addEventListener("scroll",H),q()})),(e,t)=>{const a=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",fe,[t[6]||(t[6]=(0,n.Lk)("div",{class:"col-sm-9 mx-auto"},[(0,n.Lk)("h1",{class:"text-start"},"驗證首頁(用戶觀點)")],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.value,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-sm-9 mx-auto",key:e.id},[(0,n.Lk)("div",he,[(0,n.Lk)("div",ge,[(0,n.Lk)("div",ke,[(0,n.Lk)("div",be,[(0,n.Lk)("button",{class:"btn btn-success mb-2 w-100",onClick:t=>b(e,!0)},"支持",8,Le),(0,n.Lk)("div",ye,[(0,n.Lk)("div",{class:"progress-bar bg-success",role:"progressbar",style:(0,s.Tr)({width:w(e.supportVote,e.againstVote)+"%"})},(0,s.v_)(e.supportVote),5),(0,n.Lk)("div",{class:"progress-bar bg-danger",role:"progressbar",style:(0,s.Tr)({width:w(e.againstVote,e.supportVote)+"%"})},(0,s.v_)(e.againstVote),5)]),(0,n.Lk)("button",{class:"btn btn-danger w-100",onClick:t=>b(e,!1)},"不支持",8,we)]),(0,n.Lk)("div",Ie,[(0,n.Lk)("div",Ce,[(0,n.bF)(a,{to:{name:"social.profile2",params:{userId:e.userId}}},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{class:"rounded-circle img-fluid fixed-size-img",src:"data:image/png;base64,"+e.avatar,alt:""},null,8,Ee)])),_:2},1032,["to"]),(0,n.Lk)("div",_e,[(0,n.Lk)("div",xe,[(0,n.Lk)("div",null,[(0,n.Lk)("div",Ae,[(0,n.bF)(a,{to:{name:"social.profile2",params:{userId:e.userId}}},{default:(0,n.k6)((()=>[(0,n.Lk)("h5",Ve,(0,s.v_)(e.userName),1)])),_:2},1032,["to"]),(0,n.Lk)("span",Re,(0,s.v_)((0,o.R1)(X.Yq)(e.verificationDate)),1)]),(0,n.Lk)("p",Ke,(0,s.v_)(e.reason),1)]),(0,n.Lk)("span",{class:"material-symbols-outlined chain-info-highlight",role:"button",title:"鏈上資訊",onClick:t=>k(e.id),style:{"font-size":"32px","line-height":"1.5","vertical-align":"middle"}}," dataset_linked ",8,Xe),h.value?((0,n.uX)(),(0,n.Wv)(j.A,{key:0,chainInfo:g,mode:0,onClose:t[0]||(t[0]=()=>h.value=!1)},null,8,["chainInfo"])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",je,[(0,n.Lk)("h5",{class:"mb-0 font-weight-bold article-title",onClick:t=>d(e.articleId)},(0,s.v_)(e.title),9,Fe)]),(0,n.Lk)("div",We,[(0,n.Lk)("div",{class:"comment d-flex align-items-center",onClick:t=>R(e.id,e.title)},t[5]||(t[5]=[(0,n.Lk)("i",{class:"material-symbols-outlined me-2 md-18"},"chat_bubble_outline",-1),(0,n.eW)(" 回答問題 ")]),8,qe),(0,n.Lk)("div",{onClick:t=>E(e.id),class:"text-primary cursor-pointer"}," 查看回答 ",8,He)]),I.value&&e.id===C.value?((0,n.uX)(),(0,n.Wv)(ne,{key:0,verificationId:e.id,onClose:t[1]||(t[1]=e=>I.value=!1)},null,8,["verificationId"])):(0,n.Q3)("",!0)])])])])])))),128)),(0,n.bF)(K,{isVisible:x.value,verifyId:(0,o.R1)(V),title:(0,o.R1)(A),onClose:t[2]||(t[2]=e=>x.value=!1)},null,8,["isVisible","verifyId","title"]),W.value?((0,n.uX)(),(0,n.CE)("div",$e," 加載中... ")):(0,n.Q3)("",!0)]),u.show?((0,n.uX)(),(0,n.Wv)(p.A,{key:0,message:u.message,type:u.type,onClose:t[3]||(t[3]=e=>u.show=!1)},null,8,["message","type"])):(0,n.Q3)("",!0),c.value?((0,n.uX)(),(0,n.Wv)(pe,{key:1,id:L.value,onClose:t[4]||(t[4]=e=>c.value=!1)},null,8,["id"])):(0,n.Q3)("",!0)],64)}}};const Qe=(0,te.A)(Pe,[["__scopeId","data-v-526d4d10"]]);var Te=Qe},4527:function(e,t,a){var n=a(3724),s=a(4376),o=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(s(e)&&!r(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6837:function(e){var t=TypeError,a=9007199254740991;e.exports=function(e){if(e>a)throw t("Maximum allowed index exceeded");return e}},4114:function(e,t,a){var n=a(6518),s=a(8981),o=a(6198),r=a(4527),i=a(6837),l=a(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},u=c||!d();n({target:"Array",proto:!0,arity:1,forced:u},{push:function(e){var t=s(this),a=o(t),n=arguments.length;i(a+n);for(var l=0;l<n;l++)t[a]=arguments[l],a++;return r(t,a),a}})}}]);
//# sourceMappingURL=5017.83a48f87.js.map