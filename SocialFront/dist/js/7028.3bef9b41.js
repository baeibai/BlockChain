"use strict";(self["webpackChunksocial_vue_3"]=self["webpackChunksocial_vue_3"]||[]).push([[7028],{2673:function(e,l,a){a.d(l,{Fe:function(){return i},JT:function(){return c},W9:function(){return n},XO:function(){return r},dz:function(){return k},gu:function(){return o},he:function(){return u},mG:function(){return f},nH:function(){return d},tG:function(){return s},zW:function(){return m}});var t=a(6593);function o(e,l){return(0,t.E)({url:"/profile/list",method:"get",params:{id:e,userId:l}})}function s(e){return(0,t.E)({url:`/profile/myarticle=${e}`,method:"get"})}function c(e){return(0,t.E)({url:`/profile/edit=${e}`,method:"get"})}function r(e){return(0,t.E)({url:`/profile/myfollowing=${e}`,method:"get"})}function i(e){return(0,t.E)({url:`/profile/myfollowed=${e}`,method:"get"})}function n(e){return(0,t.E)({url:`/profile/myfollowboard=${e}`,method:"get"})}function u(e){return(0,t.E)({url:`/profile/mybookmark/${e}`,method:"get"})}function d(e){return(0,t.E)({url:"/profile/put",method:"put",data:e})}function m(e){return(0,t.E)({url:"/profile/upload",method:"put",data:e})}function f(e,l){return(0,t.E)({url:"/profile/track",method:"post",params:{userId:l,id:e}})}function k(e,l){return(0,t.E)({url:"/profile/unTrack",method:"post",params:{userId:l,id:e}})}},7028:function(e,l,a){a.r(l),a.d(l,{default:function(){return R}});var t=a(641),o=a(3751),s=a(953),c=a(6278),r=a(2673);const i={class:"row"},n={class:"col-lg-12"},u={class:"iq-card-body p-0"},d={class:"iq-edit-list"},m={class:"col-lg-12"},f={class:"iq-edit-list-data"},k={class:"tab-content"},p={class:"form-group row align-items-center"},b={class:"col-md-12"},v={class:"profile-img-edit"},h=["src"],L={class:"p-image"},g={class:"row align-items-center"},y={class:"form-group col-sm-6"},w={class:"form-group col-sm-6"},x={class:"form-group col-sm-6"},C={class:"form-group col-sm-6"},E={class:"form-group col-sm-12"};var F={__name:"ProfileEdit",setup(e){const l=(0,c.Pj)(),a=(0,s.KR)([]),F=(0,s.KR)(""),_=(0,s.KR)(""),S=(0,s.KR)(""),R=(0,s.KR)(""),U=(0,s.KR)(""),I=(0,s.KR)(null),K=async()=>{const e=await(0,r.JT)(l.state.userInfo?.id);1===e.data.code?(a.value=e.data.data||[],F.value=a.value.name,_.value=a.value.address,S.value=a.value.email,U.value=a.value.intro,R.value=a.value.sex,I.value=a.value.avatar,console.log(e.data.data)):console.log("error")},T=async()=>{const e={id:l.state.userInfo?.id,name:F.value,address:_.value,email:S.value,sex:R.value,intro:U.value},a=new FormData;a.append("id",l.state.userInfo?.id),$.value&&a.append("avatar",I.value);try{const t=await(0,r.nH)(e);if(l.dispatch("updateUserInfo",e),console.log("用戶信息更新成功:",t.data.data),1===t.data.code&&$.value){const e=await(0,r.zW)(a);if(1!==e.data.code)return void console.error("圖片上傳失敗:",e.data.msg);l.dispatch("updateAvatar",$.value.split(",")[1])}1===t.data.code?(console.log("資料提交成功",e),window.location.reload()):console.error("資料提交失敗:",t.data.msg)}catch(t){console.error("請求出錯:",t)}},$=(0,s.KR)(null),J=e=>{const l=e.target.files[0];if(l){const e=new FileReader;e.onload=e=>{$.value=e.target.result},e.readAsDataURL(l),I.value=l}},P=()=>{V.value.click()},V=(0,s.KR)(null);return(0,t.sV)((()=>{K()})),(e,l)=>{const a=(0,t.g2)("tab-nav-items"),s=(0,t.g2)("tab-nav"),c=(0,t.g2)("iq-card"),r=(0,t.g2)("tab-content-item");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",n,[(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",u,[(0,t.Lk)("div",d,[(0,t.bF)(s,{pills:!0,id:"pills-tab",class:"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items edit-profile"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{class:"col-sm-3 p-0",active:!0,id:"pills-peronal-tab",href:"#personal-information",ariaControls:"pills-personal",role:"tab",ariaSelected:!0,title:"個人資訊"}),(0,t.bF)(a,{class:"col-sm-3 p-0",active:!1,id:"pills-password-tab",href:"#chang-pwd",ariaControls:"pills-password",role:"tab",ariaSelected:!1,title:"變更密碼"}),(0,t.bF)(a,{class:"col-sm-3 p-0",active:!1,id:"pills-sms-tab",href:"#emailandsms",ariaControls:"pills-sms",role:"tab",ariaSelected:!1,title:"電子郵件設定"}),(0,t.bF)(a,{class:"col-sm-3 p-0",active:!1,id:"pills-contact-tab",href:"#manage-contact",ariaControls:"pills-contact",role:"tab",ariaSelected:!1,title:"管理通知"})])),_:1})])])])),_:1})]),(0,t.Lk)("div",m,[(0,t.Lk)("div",f,[(0,t.Lk)("div",k,[(0,t.bF)(r,{active:!0,id:"personal-information","aria-labelled-by":"pills-peronal-tab"},{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{headerTitle:(0,t.k6)((()=>l[5]||(l[5]=[(0,t.Lk)("h4",{class:"card-title"},"個人資料",-1)]))),body:(0,t.k6)((()=>[(0,t.Lk)("div",p,[(0,t.Lk)("div",b,[(0,t.Lk)("div",v,[(0,t.Lk)("img",{class:"profile-pic",src:$.value?$.value:"data:image/png;base64,"+I.value,alt:"profile-pic"},null,8,h),(0,t.Lk)("div",L,[(0,t.Lk)("i",{class:"ri-pencil-line upload-button text-white",onClick:P}),(0,t.Lk)("input",{ref_key:"fileInput",ref:V,type:"file",accept:"image/*",onChange:J,style:{display:"none"}},null,544)])])])]),(0,t.Lk)("form",{onSubmit:(0,o.D$)(T,["prevent"])},[(0,t.Lk)("div",g,[(0,t.Lk)("div",y,[l[6]||(l[6]=(0,t.Lk)("label",{for:"uname",class:"form-label"},"暱稱：",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=e=>F.value=e),placeholder:"Username..."},null,512),[[o.Jo,F.value]])]),(0,t.Lk)("div",w,[l[7]||(l[7]=(0,t.Lk)("label",{for:"cname",class:"form-label"},"區塊鏈地址：",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":l[1]||(l[1]=e=>_.value=e),placeholder:"Address...",readonly:""},null,512),[[o.Jo,_.value]])]),(0,t.Lk)("div",x,[l[8]||(l[8]=(0,t.Lk)("label",{for:"cname",class:"form-label"},"電子郵件：",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=e=>S.value=e),placeholder:"Email..."},null,512),[[o.Jo,S.value]])]),(0,t.Lk)("div",C,[l[10]||(l[10]=(0,t.Lk)("label",{for:"cname",class:"form-label"},"性別：",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>R.value=e),class:"form-select"},l[9]||(l[9]=[(0,t.Lk)("option",{value:"M"},"男",-1),(0,t.Lk)("option",{value:"F"},"女",-1)]),512),[[o.u1,R.value]])]),(0,t.Lk)("div",E,[l[11]||(l[11]=(0,t.Lk)("label",{class:"form-label"},"個人簡介：",-1)),(0,t.bo)((0,t.Lk)("textarea",{class:"form-control",name:"intro",rows:"5",style:{"line-height":"20px"},"onUpdate:modelValue":l[4]||(l[4]=e=>U.value=e)},"                        ",512),[[o.Jo,U.value]])])]),l[12]||(l[12]=(0,t.Lk)("button",{class:"btn btn-primary me-2",type:"submit"},"更改",-1)),l[13]||(l[13]=(0,t.Lk)("button",{type:"reset",class:"btn bg-soft-danger"},"取消",-1))],32)])),_:1})])),_:1}),(0,t.bF)(r,{active:!1,id:"chang-pwd","aria-labelled-by":"pills-password-tab"},{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{headerTitle:(0,t.k6)((()=>l[14]||(l[14]=[(0,t.Lk)("h4",{class:"card-title"},"變更密碼",-1)]))),body:(0,t.k6)((()=>l[15]||(l[15]=[(0,t.Lk)("form",null,[(0,t.Lk)("div",{class:"form-group"},[(0,t.Lk)("label",{for:"cpass",class:"form-label"},"目前密碼："),(0,t.Lk)("a",{href:"javascripe:void();",class:"float-end"},"Forgot Password"),(0,t.Lk)("input",{type:"Password",class:"form-control",id:"cpass",value:""})]),(0,t.Lk)("div",{class:"form-group"},[(0,t.Lk)("label",{for:"npass",class:"form-label"},"新密碼："),(0,t.Lk)("input",{type:"Password",class:"form-control",id:"npass",value:""})]),(0,t.Lk)("div",{class:"form-group"},[(0,t.Lk)("label",{for:"vpass",class:"form-label"},"請輸入欲更改的密碼："),(0,t.Lk)("input",{type:"Password",class:"form-control",id:"vpass",value:""})]),(0,t.Lk)("button",{type:"submit",class:"btn btn-primary me-2"},"更改"),(0,t.Lk)("button",{type:"reset",class:"btn bg-soft-danger"},"取消")],-1)]))),_:1})])),_:1}),(0,t.bF)(r,{active:!1,id:"emailandsms","aria-labelled-by":"pills-sms-tab"},{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{headerTitle:(0,t.k6)((()=>l[16]||(l[16]=[(0,t.Lk)("h4",{class:"card-title"},"Email and SMS",-1)]))),body:(0,t.k6)((()=>l[17]||(l[17]=[(0,t.Lk)("form",null,[(0,t.Lk)("div",{class:"form-group row align-items-center"},[(0,t.Lk)("label",{class:"col-md-3",for:"emailnotification"},"Email Notification:"),(0,t.Lk)("div",{class:"col-md-9 form-check form-switch"},[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked11",checked:""}),(0,t.Lk)("label",{class:"form-check-label",for:"flexSwitchCheckChecked11"},"Checked switch checkbox input")])]),(0,t.Lk)("div",{class:"form-group row align-items-center"},[(0,t.Lk)("label",{class:"col-md-3",for:"smsnotification"},"SMS Notification:"),(0,t.Lk)("div",{class:"col-md-9 form-check form-switch"},[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked12",checked:""}),(0,t.Lk)("label",{class:"form-check-label",for:"flexSwitchCheckChecked12"},"Checked switch checkbox input")])]),(0,t.Lk)("div",{class:"form-group row align-items-center"},[(0,t.Lk)("label",{class:"col-md-3",for:"npass"},"When To Email"),(0,t.Lk)("div",{class:"col-md-9"},[(0,t.Lk)("div",{class:"form-check"},[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault12"}),(0,t.Lk)("label",{class:"form-check-label",for:"flexCheckDefault12"}," You have new notifications. ")]),(0,t.Lk)("div",{class:"form-check d-block"},[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"email02"}),(0,t.Lk)("label",{class:"form-check-label",for:"email02"},"You're sent a direct message")]),(0,t.Lk)("div",{class:"form-check d-block"},[(0,t.Lk)("input",{type:"checkbox",class:"form-check-input",id:"email03",checked:""}),(0,t.Lk)("label",{class:"form-check-label",for:"email03"},"Someone adds you as a connection")])])]),(0,t.Lk)("div",{class:"form-group row align-items-center"},[(0,t.Lk)("label",{class:"col-md-3",for:"npass"},"When To Escalate Emails"),(0,t.Lk)("div",{class:"col-md-9"},[(0,t.Lk)("div",{class:"form-check"},[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"email04"}),(0,t.Lk)("label",{class:"form-check-label",for:"email04"}," Upon new order. ")]),(0,t.Lk)("div",{class:"form-check d-block"},[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"email05"}),(0,t.Lk)("label",{class:"form-check-label",for:"email05"},"New membership approval")]),(0,t.Lk)("div",{class:"form-check d-block"},[(0,t.Lk)("input",{type:"checkbox",class:"form-check-input",id:"email06",checked:""}),(0,t.Lk)("label",{class:"form-check-label",for:"email06"},"Member registration")])])]),(0,t.Lk)("button",{type:"submit",class:"btn btn-primary me-2"},"Submit"),(0,t.Lk)("button",{type:"reset",class:"btn bg-soft-danger"},"Cancle")],-1)]))),_:1})])),_:1}),(0,t.bF)(r,{active:!1,id:"manage-contact","aria-labelled-by":"pills-contact-tab"},{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{headerTitle:(0,t.k6)((()=>l[18]||(l[18]=[(0,t.Lk)("h4",{class:"card-title"},"Manage Contact",-1)]))),body:(0,t.k6)((()=>l[19]||(l[19]=[(0,t.Lk)("form",null,[(0,t.Lk)("div",{class:"form-group"},[(0,t.Lk)("label",{for:"cno",class:"form-label"},"Contact Number:"),(0,t.Lk)("input",{type:"text",class:"form-control",id:"cno",value:"001 2536 123 458"})]),(0,t.Lk)("div",{class:"form-group"},[(0,t.Lk)("label",{for:"email",class:"form-label"},"Email:"),(0,t.Lk)("input",{type:"text",class:"form-control",id:"email",value:"Bnijone@demo.com"})]),(0,t.Lk)("div",{class:"form-group"},[(0,t.Lk)("label",{for:"url",class:"form-label"},"Url:"),(0,t.Lk)("input",{type:"text",class:"form-control",id:"url",value:"https://getbootstrap.com"})]),(0,t.Lk)("button",{type:"submit",class:"btn btn-primary me-2"},"Submit"),(0,t.Lk)("button",{type:"reset",class:"btn bg-soft-danger"},"Cancle")],-1)]))),_:1})])),_:1})])])])])}}},_=a(6262);const S=(0,_.A)(F,[["__scopeId","data-v-f8435db4"]]);var R=S}}]);
//# sourceMappingURL=7028.3bef9b41.js.map