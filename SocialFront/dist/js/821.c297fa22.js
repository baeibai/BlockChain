"use strict";(self["webpackChunksocial_vue_3"]=self["webpackChunksocial_vue_3"]||[]).push([[821],{2673:function(l,e,a){a.d(e,{Fe:function(){return r},JT:function(){return o},W9:function(){return c},XO:function(){return i},dz:function(){return k},gu:function(){return s},he:function(){return u},mG:function(){return m},nH:function(){return d},tG:function(){return n},zW:function(){return v}});var t=a(6593);function s(l,e){return(0,t.E)({url:"/profile/list",method:"get",params:{id:l,userId:e}})}function n(l){return(0,t.E)({url:`/profile/myarticle=${l}`,method:"get"})}function o(l){return(0,t.E)({url:`/profile/edit=${l}`,method:"get"})}function i(l){return(0,t.E)({url:`/profile/myfollowing=${l}`,method:"get"})}function r(l){return(0,t.E)({url:`/profile/myfollowed=${l}`,method:"get"})}function c(l){return(0,t.E)({url:`/profile/myfollowboard=${l}`,method:"get"})}function u(l){return(0,t.E)({url:`/profile/mybookmark/${l}`,method:"get"})}function d(l){return(0,t.E)({url:"/profile/put",method:"put",data:l})}function v(l){return(0,t.E)({url:"/profile/upload",method:"put",data:l})}function m(l,e){return(0,t.E)({url:"/profile/track",method:"post",params:{userId:e,id:l}})}function k(l,e){return(0,t.E)({url:"/profile/unTrack",method:"post",params:{userId:e,id:l}})}},3996:function(l,e,a){a.d(e,{A:function(){return _}});var t=a(641),s=a(33),n=a(953),o=a(2673);const i={class:"col-lg-6 col-md-6"},r={class:"card"},c={class:"profile-header-image"},u={class:"profile-info p-4"},d={class:"user-detail"},v={class:"d-flex flex-wrap justify-content-between align-items-start"},m={class:"profile-detail d-flex"},k={class:"user-data-block mt-md-0 mt-2"},f=["src"],p={href:"/friendprofile"},L={class:"mt-1"},g={class:"stat-item"},b={class:"stat-item"},y={class:"stat-item"};var h={__name:"followed",props:{id:{type:Number,required:!0}},setup(l){const e=l,a=(0,n.KR)([]),h=async l=>{const e=await(0,o.Fe)(l);1===e.data.code?a.value=e.data.data:console.log("error")};return(0,t.sV)((()=>{h(e.id)})),(l,e)=>((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"row",key:e},[(0,t.Lk)("div",i,[(0,t.Lk)("div",r,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("div",d,[(0,t.Lk)("div",v,[(0,t.Lk)("div",m,[(0,t.Lk)("div",k,[(0,t.Lk)("img",{class:"avatar-60 rounded-circle",src:"data:image/png;base64,"+l.avatar,alt:""},null,8,f)])])]),(0,t.Lk)("h4",null,[(0,t.Lk)("a",p," "+(0,s.v_)(l.name),1)]),(0,t.Lk)("div",L,[(0,t.Lk)("div",g,[(0,t.Lk)("span",null,"文章數量: "+(0,s.v_)(l.articleCount),1)]),(0,t.Lk)("div",b,[(0,t.Lk)("span",null,"我關注中: "+(0,s.v_)(l.followerCount),1)]),(0,t.Lk)("div",y,[(0,t.Lk)("span",null,"已關注我: "+(0,s.v_)(l.followedCount),1)])])])])])])])])))),128))}};const w=h;var _=w},821:function(l,e,a){a.r(e),a.d(e,{default:function(){return ml}});var t=a(641),s=a(33),n=a(953),o=a(5220),i=a(2673);const r={class:"col-lg-6 col-md-6"},c={class:"card"},u={class:"profile-header-image"},d={class:"profile-info p-4"},v={class:"user-detail"},m={class:"d-flex flex-wrap justify-content-between align-items-start"},k={class:"profile-detail d-flex"},f={class:"user-data-block mt-md-0 mt-2"},p=["src"],L={href:"/friendprofile"},g={class:"mt-1"},b={class:"stat-item"},y={class:"stat-item"},h={class:"stat-item"};var w={__name:"follower",props:{id:{type:Number,required:!0}},setup(l){const e=l,a=(0,n.KR)([]),o=async l=>{const e=await(0,i.XO)(l);1===e.data.code?a.value=e.data.data:console.log("error")};return(0,t.sV)((()=>{o(e.id)})),(l,e)=>((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"row",key:e},[(0,t.Lk)("div",r,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("div",d,[(0,t.Lk)("div",v,[(0,t.Lk)("div",m,[(0,t.Lk)("div",k,[(0,t.Lk)("div",f,[(0,t.Lk)("img",{class:"avatar-60 rounded-circle",src:"data:image/png;base64,"+l.avatar,alt:""},null,8,p)])])]),(0,t.Lk)("h4",null,[(0,t.Lk)("a",L," "+(0,s.v_)(l.name),1)]),(0,t.Lk)("div",g,[(0,t.Lk)("div",b,[(0,t.Lk)("span",null,"文章數量: "+(0,s.v_)(l.articleCount),1)]),(0,t.Lk)("div",y,[(0,t.Lk)("span",null,"我關注中: "+(0,s.v_)(l.followerCount),1)]),(0,t.Lk)("div",h,[(0,t.Lk)("span",null,"已關注我: "+(0,s.v_)(l.followedCount),1)])])])])])])])])))),128))}};const _=w;var C=_,x=a(3996),E=a(5208);const X={class:"tab-pane fade show active",id:"pills-myarticle"},I={class:"card"},R={class:"card-body"},K={class:"borderbox border rounded p-2"},F={class:"d-flex align-items-center flex-wrap"},j={class:"ms-auto d-flex align-items-center"},$={class:"mx-1"},q={class:"row mt-2"},W=["src"],z={class:"d-flex flex-wrap justify-content-evenly mb-0 mt-2"},A={class:"d-flex align-items-center"},G={class:"ms-1"},Q={class:"d-flex align-items-center"},V={class:"ms-1"},N={class:"d-flex align-items-center"},O={class:"ms-1"},P=["onClick"];var S={__name:"article",props:{id:{type:Number,required:!0}},setup(l){const e=l,a=(0,n.KR)([]),o=async l=>{console.log("fetchArticle:",l);const e=await(0,i.tG)(l);1===e.data.code?(a.value=e.data.data,console.log(a.value)):console.log("error")};function r(l){}return(0,t.sV)((()=>{o(e.id)})),(l,e)=>((0,t.uX)(),(0,t.CE)("div",X,[(0,t.Lk)("div",I,[(0,t.Lk)("div",R,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value,((l,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"borderbox1 mt-3 rounded d-flex"},[(0,t.Lk)("div",K,[(0,t.Lk)("div",F,[(0,t.Lk)("h6",null,(0,s.v_)(l.username),1),(0,t.Lk)("div",j,[e[0]||(e[0]=(0,t.Lk)("i",{class:"material-symbols-outlined md-16"},"schedule",-1)),(0,t.Lk)("span",$,[(0,t.Lk)("small",null,(0,s.v_)((0,n.R1)(E.Yq)(l.publicationDate)),1)])])]),(0,t.Lk)("h6",null,(0,s.v_)(l.content),1),(0,t.Lk)("div",q,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.maimage,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"col-lg-4 col-md-6 mt-1",key:e},[(0,t.Lk)("img",{src:l.maimage,class:"img-fluid rounded",alt:"Responsive image",loading:"lazy"},null,8,W)])))),128))]),(0,t.Lk)("div",z,[(0,t.Lk)("div",A,[e[1]||(e[1]=(0,t.Lk)("i",{class:"material-symbols-outlined pe-2 md-18 text-primary"},"arrow_circle_up",-1)),(0,t.Lk)("h6",G,(0,s.v_)(l.likeCount)+" 支持者",1)]),e[4]||(e[4]=(0,t.Lk)("hr",{class:"hr-vertical"},null,-1)),(0,t.Lk)("div",Q,[e[2]||(e[2]=(0,t.Lk)("i",{class:"material-symbols-outlined pe-2 md-18 text-primary"},"arrow_circle_down",-1)),(0,t.Lk)("h6",V,(0,s.v_)(l.dislikeCount)+" 不支持者",1)]),e[5]||(e[5]=(0,t.Lk)("hr",{class:"hr-vertical"},null,-1)),(0,t.Lk)("div",N,[e[3]||(e[3]=(0,t.Lk)("i",{class:"material-symbols-outlined pe-2 md-18 text-primary"},"mode_comment",-1)),(0,t.Lk)("h6",O,(0,s.v_)(l.commentCount)+" 評論數",1)]),(0,t.Lk)("i",{class:"material-symbols-outlined",onClick:l=>r(a)},(0,s.v_)(l.iscollect?"bookmark_heart":"bookmark"),9,P)])])])))),128))])])]))}},T=a(6262);const D=(0,T.A)(S,[["__scopeId","data-v-673165a9"]]);var H=D,J=a(6278);const Y={class:"content-page"},B={class:"container"},M={class:"row"},U={class:"col-lg-4"},Z={class:"card mb-3"},ll={class:"card-body text-center"},el=["src"],al={class:"mt-2 mb-2"},tl={class:"d-flex justify-content-evenly mt-2"},sl={class:"mb-0 fw-bold"},nl={class:"mb-0 fw-bold"},ol={class:"mb-0 fw-bold"},il={class:"card"},rl={class:"card-body"},cl={class:"col-lg-8"},ul={class:"tab-content forum-content"};var dl={__name:"profile2",setup(l){const e=(0,J.Pj)(),a=(0,o.lq)(),r=(0,n.KR)([]),c=(0,n.KR)(!0),u=(0,n.KR)(!1),d=(0,n.KR)(!1),v=()=>{u.value=!0,d.value=!1,c.value=!1},m=()=>{d.value=!0,u.value=!1,c.value=!1},k=()=>{c.value=!0,u.value=!1,d.value=!1},f=()=>String(e.state.userInfo?.id)!==String(g),p=async l=>{console.log("fetchProfile:",l);const a=await(0,i.gu)(l,e.state.userInfo?.id);1===a.data.code?(r.value=a.data.data,console.log(r.value)):console.log("error")},L=async()=>{if(null===e.state.userInfo)return void alert("請先登入");console.log(r.value.myFollowing);const l=r.value.myFollowing?await(0,i.mG)(e.state.userInfo?.id,g.value):await(0,i.dz)(g.value,e.state.userInfo?.id);console.log(l.data),1===l.data.code?r.value.myFollowing=!r.value.myFollowing:console.error("失敗")};let g=(0,n.KR)(a.params.userId);return(0,t.sV)((()=>{p(g.value)})),(l,e)=>((0,t.uX)(),(0,t.CE)("div",Y,[(0,t.Lk)("div",B,[(0,t.Lk)("div",M,[(0,t.Lk)("div",U,[(0,t.Lk)("div",Z,[(0,t.Lk)("div",ll,[(0,t.Lk)("img",{class:"img-fluid rounded-circle avatar-130",src:"data:image/png;base64,"+r.value.avatar,alt:"profile-img"},null,8,el),(0,t.Lk)("h4",al,(0,s.v_)(r.value.name),1),f()?((0,t.uX)(),(0,t.CE)("button",{key:0,class:"btn btn-outline-primary mb-3",onClick:L},(0,s.v_)(r.value.myFollowing?"追蹤中":"追蹤"),1)):(0,t.Q3)("",!0),(0,t.Lk)("div",tl,[(0,t.Lk)("div",null,[e[0]||(e[0]=(0,t.Lk)("p",{class:"mb-0"},"文章數量",-1)),(0,t.Lk)("h6",sl,(0,s.v_)(r.value.articleCount),1)]),(0,t.Lk)("div",null,[e[1]||(e[1]=(0,t.Lk)("p",{class:"mb-0"},"關注中",-1)),(0,t.Lk)("h6",nl,(0,s.v_)(r.value.followerCount),1)]),(0,t.Lk)("div",null,[e[2]||(e[2]=(0,t.Lk)("p",{class:"mb-0"},"被追蹤",-1)),(0,t.Lk)("h6",ol,(0,s.v_)(r.value.followedCount),1)])])])]),(0,t.Lk)("div",il,[e[3]||(e[3]=(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("h4",{class:"card-title"},"個人資料")],-1)),(0,t.Lk)("div",rl,[(0,t.Lk)("p",null,(0,s.v_)(r.value.intro),1)])])]),(0,t.Lk)("div",cl,[(0,t.Lk)("div",{class:"card cardnavbar mb-3"},[(0,t.Lk)("div",{class:"user-tabing"},[(0,t.Lk)("ul",{class:"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0 round"},[(0,t.Lk)("li",{class:"nav-item col-sm-2 p-0",onClick:v},e[4]||(e[4]=[(0,t.Lk)("a",{class:"nav-link",href:"#pills-follower","data-bs-toggle":"pill",role:"button"},"關注者",-1)])),(0,t.Lk)("li",{class:"nav-item col-sm-2 p-0",onClick:m},e[5]||(e[5]=[(0,t.Lk)("a",{class:"nav-link",href:"#pills-follow","data-bs-toggle":"pill",role:"button"},"追蹤中",-1)])),(0,t.Lk)("li",{class:"nav-item col-sm-2 p-0",onClick:k},e[6]||(e[6]=[(0,t.Lk)("a",{class:"nav-link active",href:"#pills-myarticle","data-bs-toggle":"pill",role:"button"},"他的文章",-1)]))])])]),(0,t.Lk)("div",ul,[c.value?((0,t.uX)(),(0,t.Wv)(H,{key:0,id:(0,n.R1)(g)},null,8,["id"])):(0,t.Q3)("",!0),u.value?((0,t.uX)(),(0,t.Wv)(C,{key:1,id:(0,n.R1)(g)},null,8,["id"])):(0,t.Q3)("",!0),d.value?((0,t.uX)(),(0,t.Wv)(x.A,{key:2,id:(0,n.R1)(g)},null,8,["id"])):(0,t.Q3)("",!0)])])])])]))}};const vl=dl;var ml=vl}}]);
//# sourceMappingURL=821.c297fa22.js.map