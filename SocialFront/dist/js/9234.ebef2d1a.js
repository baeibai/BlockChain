"use strict";(self["webpackChunksocial_vue_3"]=self["webpackChunksocial_vue_3"]||[]).push([[9234],{5292:function(e,t,n){n.d(t,{D7:function(){return i},rK:function(){return a},s:function(){return s}});var r=n(6593);function s(e){return(0,r.E)({url:"/user/login",method:"post",data:e})}function a(e){return(0,r.E)({url:"/user/signUp",method:"post",data:e})}function i(e){return(0,r.E)({url:`/user/checkUsername/${e}`,method:"get"})}},3761:function(e,t,n){n.d(t,{A:function(){return l}});var r=n(641),s=n(33),a={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"info"}},emits:["close"],setup(e,{emit:t}){const n=e,a=t,i=(0,r.EW)((()=>{switch(n.type){case"success":return"success";case"warning":return"warning";case"error":return"error";default:return"info"}})),o=()=>{a("close")};return(0,r.sV)((()=>{setTimeout((()=>{o()}),3e3)})),(t,n)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,s.C4)(["notification",i.value])},[(0,r.Lk)("span",null,(0,s.v_)(e.message),1)],2))}},i=n(6262);const o=(0,i.A)(a,[["__scopeId","data-v-07b198c4"]]);var l=o},9234:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});n(4114);var r=n(641),s=n(3751),a=n(953),i=n(5220),o=n(6278),l=n(5292),u=n(3761);const c={class:"sign-in-page"},d={class:"container p-0"},p={class:"row no-gutters"},f={class:"col-md-6 bg-white pt-5 pt-5 pb-lg-0 pb-5"},m={class:"sign-in-from pb-5"},g={class:"mb-0"},v={class:"form-group"},h={class:"form-group"},k={class:"d-inline-block w-100"},w={class:"sign-info d-inline-block mt-2 pt-1"},b={class:"dark-color d-inline-block line-height-2"};var y={__name:"SignIn",setup(e){const t=(0,o.Pj)(),n=(0,i.rd)(),y=(0,a.KR)(""),L=(0,a.KR)(""),x=(0,a.Kh)({show:!1,message:"",type:"info"}),_=async()=>{if(0===y.value.length)return x.message="Please enter a mail.",x.type="warning",void(x.show=!0);if(0===L.value.length)return x.message="Please enter a password.",x.type="warning",void(x.show=!0);if(L.value.length<6)return x.message="密碼長度至少6個字元。",x.type="warning",x.show=!0,void(L.value="");try{const e={mail:y.value,password:L.value},r=await(0,l.s)(e);if(1===r.data.code){const e=r.data.data;localStorage.setItem("userInfo",JSON.stringify(e)),t.dispatch("initializeStore"),n.push({name:"social.list"})}else x.message=r.data.msg,x.type="error",x.show=!0}catch(e){x.message=`Request failed: ${e.message}`,x.type="error",x.show=!0,console.error("請求出錯:",e.message)}};return(e,t)=>{const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("section",c,[t[11]||(t[11]=(0,r.Fv)('<div id="container-inside"><div id="circle-small"></div><div id="circle-medium"></div><div id="circle-large"></div><div id="circle-xlarge"></div><div id="circle-xxlarge"></div></div>',1)),(0,r.Lk)("div",d,[(0,r.Lk)("div",p,[t[10]||(t[10]=(0,r.Lk)("div",{class:"col-md-6 text-center pt-5"},null,-1)),(0,r.Lk)("div",f,[(0,r.Lk)("div",m,[(0,r.Lk)("h1",g,[(0,r.bF)(n,{to:{name:"social.list"}},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("登入")]))),_:1})]),t[9]||(t[9]=(0,r.Lk)("p",null,"輸入您的電子郵件和密碼",-1)),(0,r.Lk)("form",{class:"mt-4",onSubmit:(0,s.D$)(_,["prevent"])},[(0,r.Lk)("div",v,[t[4]||(t[4]=(0,r.Lk)("label",{class:"form-label",for:"exampleInputMail"},"電子郵件",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control mb-0",id:"exampleInputMail",placeholder:"電子郵件","onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e)},null,512),[[s.Jo,y.value]])]),(0,r.Lk)("div",h,[t[6]||(t[6]=(0,r.Lk)("label",{class:"form-label",for:"exampleInputPassword1"},"密碼",-1)),(0,r.bF)(n,{to:{name:"auth.recoverpassword1"},class:"float-end"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("忘記密碼")]))),_:1}),(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control mb-0",id:"exampleInputPassword1",placeholder:"密碼","onUpdate:modelValue":t[1]||(t[1]=e=>L.value=e)},null,512),[[s.Jo,L.value]])]),(0,r.Lk)("div",k,[(0,r.Lk)("div",w,[(0,r.Lk)("span",b,[(0,r.bF)(n,{to:{name:"auth.sign-up"}},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("建立新帳號")]))),_:1})])]),t[8]||(t[8]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary float-end"},"登入",-1))])],32)])])])])]),x.show?((0,r.uX)(),(0,r.Wv)(u.A,{key:0,message:x.message,type:x.type,onClose:t[2]||(t[2]=e=>x.show=!1)},null,8,["message","type"])):(0,r.Q3)("",!0)],64)}}};const L=y;var x=L},4527:function(e,t,n){var r=n(3724),s=n(4376),a=TypeError,i=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(s(e)&&!i(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},4114:function(e,t,n){var r=n(6518),s=n(8981),a=n(6198),i=n(4527),o=n(6837),l=n(9039),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!c();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=s(this),n=a(t),r=arguments.length;o(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return i(t,n),n}})}}]);
//# sourceMappingURL=9234.ebef2d1a.js.map